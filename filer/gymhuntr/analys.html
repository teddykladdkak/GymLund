<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="gym.js" type="text/javascript"></script>
	<script type="text/javascript">
		function analysera(){
			var textarea = document.getElementById('nytext').value.replace(/Ã¤/g, 'ä').replace(/Ã¥/g, 'å').replace(/Ã¶/g, 'ö').split('||||');
			var textsplit = textarea;
			console.log(textarea);
			var nyarray = [];
			for (var i = 0; i < textsplit.length; i++){
				var longlat = textsplit[i+1].split(',');
				var namnsplit = textsplit[i].split('');
					namnsplit[namnsplit.length - 1] = namnsplit[namnsplit.length - 1].replace(' ', '');
				var namn = namnsplit.join('');
				nyarray.push({"namn": namn, "location": {"longitud": longlat[0], "latitud": longlat[1]}});
				i++;
			};
			console.log(nyarray);
			for (var i = nyarray.length - 1; i >= 0; i--) {
				var ny = true;
				var orig = '';
				for (var a = gyms.length - 1; a >= 0; a--) {
					if(gyms[a].namn.toLowerCase().indexOf(nyarray[i].namn.toLowerCase()) != -1){
						//console.log(nyarray[i].namn + ' 1');
						var ny = false;
					}else{
						
					};
				};
				if(ny){
					console.log('"' + nyarray[i].namn + '"');
					var wrapper = document.getElementById('result');
						var p = document.createElement('p');
							var ptext = document.createTextNode('"' + nyarray[i].namn + '" [' + nyarray[i].location.longitud + ',' + nyarray[i].location.latitud + ']');
							p.appendChild(ptext);
						wrapper.appendChild(p);
				};
			};
		};
	</script>
</head>
<body>
	<textarea id="nytext"></textarea>
	<input type="button" value="Analysera" onclick="analysera();">
	<div id="result"></div>
</body>
</html>